@import com.innovenso.townplanner.model.TownPlan
@import com.innovenso.townplanner.model.language.Element
@import com.innovenso.townplanner.io.model.NavigationContext
@import com.innovenso.townplanner.model.concepts.BusinessCapability
@import play.twirl.api.TwirlFeatureImports._
@import website.html.TagSection
@(element: Element, navigationContext: NavigationContext, townPlan: TownPlan)
<header>
    <hgroup>
        <h1>@element.title</h1>
        <h2> @element match {
          case businessCapability: BusinessCapability => {
              @element.modelComponentType.value
                  @if(townPlan.enterprise(businessCapability).nonEmpty) {
                    @defining(townPlan.enterprise(businessCapability).get) { enterprise =>
                      of <a href="@navigationContext.relativePathTo(enterprise)">@enterprise.title</a>
                    }
                  }
                  @if(townPlan.parentBusinessCapability(businessCapability).nonEmpty) {
                    @defining(townPlan.parentBusinessCapability(businessCapability).get) { cap =>
                        and part of <a href="@navigationContext.relativePathTo(cap)">@cap.title</a>
                    }
                  }
          }
          case _ => {
              @element.modelComponentType.value
          }
        } @TagSection(element, townPlan)</h2>

    </hgroup>
</header>
