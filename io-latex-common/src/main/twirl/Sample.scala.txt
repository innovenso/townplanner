@import txt.DocumentClass
@import txt.Preamble
@import com.thedeanda.lorem.LoremIpsum
@import com.innovenso.townplanner.model.samples.SampleFactory
@import txt.Document
@import txt.DocumentTitle
@import txt.UsePackage
@import txt.Section
@import txt.Text
@import txt.SubSection
@import txt.Drawing
@import txt.CommonSettings
@import txt.BookSettings
@import txt.MarginDrawing
@import com.innovenso.townplan.io.context.Output
@import txt.Image
@import txt.KaoBook
@import txt.FrontMatter
@import txt.BookTableOfContents
@import txt.MainMatter
@import txt.Part
@import txt.Chapter
@(sampleOutput: Output, samples: SampleFactory)
@KaoBook()

@Document {
  @Preamble(title = Some(samples.title), author = Some(samples.name), titleHead = Some(samples.title))
  @DocumentTitle()
  @FrontMatter()
  @BookTableOfContents()
  @MainMatter()

  @Part(title = samples.title, forBook = true) {

    @Chapter(title = samples.title) {

  @Section(title = samples.title) {
    this is section 1

    @MarginDrawing(caption = Some(samples.title)) {
      \draw[] (1cm,0) arc[start angle=0, end angle=90,radius=1cm];
      \draw[] (2cm,0) arc[start angle=0, end angle=90,radius=2cm];
      \draw[] (3cm,0) arc[start angle=0, end angle=90,radius=3cm];
      \draw[] (0,4cm) arc[start angle=90, end angle=0,radius=4cm];

      \draw (0,0) -- (0,4cm);
    }
    @Text(samples.description)
    @Text(samples.description)

  }

      @Section(title = samples.title) {
        this is section 2

        @Text(samples.description)
        @Text(samples.description)

        @Drawing(caption = Some(samples.title)) {
          \draw[] (1cm,0) arc[start angle=0, end angle=90,radius=1cm];
          \draw[] (2cm,0) arc[start angle=0, end angle=90,radius=2cm];
          \draw[] (3cm,0) arc[start angle=0, end angle=90,radius=3cm];
          \draw[] (0,4cm) arc[start angle=90, end angle=0,radius=4cm];

          \draw (0,0) -- (0,4cm);
        }
      }

    }

    @Chapter(title = samples.title) {

      @Section(title = samples.title) {
        this is section 3
        @SubSection(title = samples.title) {
          this is subsection 1

          @Image(Some("a sample impage"), sampleOutput)

          @Text(samples.description)
        }
      }
    }
  }

}