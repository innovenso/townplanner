@import com.innovenso.townplanner.model.concepts.{BusinessCapability, HasBusinessCapabilities}
@import plantuml.lib.concepts.txt.BusinessCapabilityTree
@import plantuml.lib.txt.{DescriptionWrapped, MindMapNode}
@(capability: BusinessCapability, model: HasBusinessCapabilities, level: Int)

@MindMapNode(
    color = "STRATEGY",
    title = capability.title,
    description = Option(DescriptionWrapped(capability).body.trim),
    depth = 2 + level,
    sprite = "aCapability"
)

@for(child <- model.childBusinessCapabilities(capability)) {
    @BusinessCapabilityTree(child, model, level + 1)
}

