@import com.innovenso.townplanner.model.concepts.views.CompiledBusinessCapabilityMap
@import com.innovenso.townplanner.model.concepts.BusinessCapability
@import plantuml.lib.txt.Title
@import plantuml.lib.txt.DescriptionWrapped
@import plantuml.lib.concepts.txt.BusinessCapabilityTree
@import plantuml.lib.txt.MindMapNode
@import com.innovenso.townplanner.model.concepts.HasBusinessCapabilities
@(capability: BusinessCapability, model: HasBusinessCapabilities, level: Int)

@MindMapNode(
  color = "STRATEGY",
  title=capability.title,
  description = Option(DescriptionWrapped(capability).body.trim),
  depth = 2 + level,
  sprite = "aCapability"
)

@for(child <- model.childBusinessCapabilities(capability)) {
  @BusinessCapabilityTree(child, model, level+1)
}

